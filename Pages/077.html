<head><title>Rain World Devlog</title><link rel="icon" href="/Rain-World-Devlog/Images/Archived Images/ljrr7.jpg"><link rel="stylesheet" href="/Rain-World-Devlog/css/style.css"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Rain World Devlog Archive"></head>
<body class="body"><br><div class="header"><span id="pagelist"></span>&emsp;&emsp;&mdash;&emsp;&emsp;<img src="/Rain-World-Devlog/Images/Title.png">&emsp;&emsp;&mdash;&emsp;&emsp;<a href="/Rain-World-Devlog/Home">Home</a></div><script src="/Rain-World-Devlog/js/pagelist.js"></script><script src="/Rain-World-Devlog/js/header.js"></script>
<a name="1520"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1213832#msg1213832" target="_blank">JLJac on January 19, 2016, 01:17:07 PM:</a></b></td></table><br>@David Berman thank you for your post and your gorgeous photos!<br /><br />I second everything James wrote above, but I&#039;ll try to give my angle. Yep, we have thought about more recognizable architecture, but we gravitated away from it. For a few reasons, the main one definitely being that one James mentioned. If you can recognize too much in the environment (&quot;That there&#039;s a fire post&quot;, &quot;that there is a roof drain pipe&quot;) the environment wouldn&#039;t feel alien anymore. As the creature you play is supposed to not really grasp what&#039;s going on in the world around it, the player should be in on that impression. We are going for a thing that&#039;s more abstract or expressionistic - what&#039;s displayed on the screen is supposed to serve an emotional narrative, and that emotional tone has &quot;not quite understanding what&#039;s going on&quot; as a very important center piece.<br /><br />Another is that recognizable objects cement the scale too much. Experiments with assets such as a door frame and similar has had the outcome that the viewer apply human scale to them by default - and then the slugcat and everything else is given a very distinct relative size which is something we&#039;re not really comfortable with. How big is a slugcat compared to a human? Waist-height, knee-height, almost as tall? We definitely prefer never to answer that question and not have the player think about it either. Slugcats, vultures and the other creatures exist in Rain World, and its their sizes compared to each other that are relevant. <br /><br />Working with this style for several years now we may also have developed a few in-world reasons why you don&#039;t see much in terms of living-quarters, but I can&#039;t even dip my toe in that without major spoilers <img src="/Rain-World-Devlog/Images/Smileys/wink.gif" alt="Wink" border="0" /><br /><br />As for flying creatures bumping into walls, yes they do! And yes I&#039;d like them to do that less hahaha&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/cheesy.gif" alt="Cheesy" border="0" /> I&#039;ll probably try to work with it a bit more before release, but it&#039;s difficult to get the creatures to move ... gracefully. The reason is that the animation isn&#039;t animated frame-by-frame, instead it&#039;s all AI driven, and I can only make those AI behaviors so good. My animation technique could probably hardly be applied to a horse, dog or human for this reason - it&#039;s all very clumsy and unnatural. With these fantasy critters though we have the benefit of the doubt, even if I realize that only stretches so far. <br /><br />@io3 creations, Thank you, and nope! It&#039;s 2D sprites being squeezed and rotated, combined with a few two-dimensional triangle meshes and lots of smoke and mirrors. There aren&#039;t really much in the way of sprite sheets, just code. &quot;You want to move your arm here, but the arm is here, apply force in this direction&quot; - that sort of stuff. <br /><br /><b>Update 516</b><br /><br />Save states coming along rather nicely! After some consultation with James I split the save file into a &quot;Player Progression&quot; object which keeps track of basically how much you have unlocked on your copy of Rain World on your computer. The &quot;Player Progression&quot; owns one or several &quot;Save States&quot;, which are objects keeping track of a specific slugcat and the world its in. <br /><br />I&#039;m not too keen on having multiple save files that the player has to mess with in a menu as I feel that would break immersion a bit - feels much better that you hit &quot;continue&quot; and get back to where you left off, and whatever happens and is saved has then happened; gives some gravitas to the events in the game and ties together the narrative. A linear narrative for a playthrough is stronger IMO than one that is branched and split and where one thing maybe happened but if you go to this specific save file it didn&#039;t happen, etc. If there is a huge demand for multiple save files (people sharing the game with relatives in the same household or similar) I could perhaps be convinced otherwise, and now so could the system! The main idea for it though is that as you rescue pups and get to play as them, those different slugcats will effectually act as &quot;save files&quot; of their own, each having its own story line that you could load and save. But those would be a few parallel narratives, no branching. <br /><br />Above these save files is, as mentioned, the &quot;Player Progression&quot; object. Progression object keeps track of stuff that should carry over between save files - for example we&#039;ve put the map discovery data there for now, because as James put it &quot;the whole point for playing ng+ is to go to the places you didn&#039;t get to explore last time around&quot;. Also it will keep track of a bunch of different stuff such as unlockables. <br /><br />All of this seems to be working to satisfaction for now at least! Currently I&#039;m working a bit with creatures saving, but most of that system was actually in place and ready to go. What&#039;s needed is mostly making the save states work with the &quot;things sticking to things&quot; engine which I have in place and which is about such as critters grabbing other critters or spears being lodged in critters.<br /><br />Bat swarm room depletion and its saving and loading is also in since before, and just need a few touch ups and fitting into the new system. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1520">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1521"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1213992#msg1213992" target="_blank">JLJac on January 20, 2016, 12:30:34 AM:</a></b></td></table><br>#save files: Maybe we could have a system where it&#039;s possible to create different profiles, which would create potentially multiple &quot;Player progression&quot; object with &quot;save states&quot; - that would be really easy as I could just save to a few different files. Then you could have one for you and on for your sibling or whatever, and you wouldn&#039;t get each other&#039;s map exploration etc. Also you could create several ones for yourself I guess, but we do have some plans for allowing you to try different play styles within the same &quot;progression&quot; - that&#039;s basically what ng+ is gonna be for. <br /><br />#asian signs: actually I was an exchange student to South Korea when initiating the project, so they are loosely based off of Korean hangeul writing <img src="/Rain-World-Devlog/Images/Smileys/smiley.gif" alt="Smiley" border="0" /> Rain World has two distinct alphabets though, the other lending its aesthetic from cyrillic letters.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1521">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1522"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214024#msg1214024" target="_blank">jamesprimate on January 20, 2016, 03:21:52 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1213992#msg1213992">Quote from: JLJac on January 20, 2016, 12:30:34 AM</a></div><div class="quote">Rain World has two distinct alphabets though, the other lending its aesthetic from cyrillic letters.<br /></div><br />3 now!<br /><br /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1522">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1523"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214027#msg1214027" target="_blank">JLJac on January 20, 2016, 03:44:50 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214024#msg1214024">Quote from: jamesprimate on January 20, 2016, 03:21:52 AM</a></div><div class="quote"><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1213992#msg1213992">Quote from: JLJac on January 20, 2016, 12:30:34 AM</a></div><div class="quote">Rain World has two distinct alphabets though, the other lending its aesthetic from cyrillic letters.<br /></div><br />3 now!<br /><br /><br /></div><br />Whaaaaat</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1523">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1524"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214050#msg1214050" target="_blank">jamesprimate on January 20, 2016, 06:01:30 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214027#msg1214027">Quote from: JLJac on January 20, 2016, 03:44:50 AM</a></div><div class="quote"><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214024#msg1214024">Quote from: jamesprimate on January 20, 2016, 03:21:52 AM</a></div><div class="quote"><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1213992#msg1213992">Quote from: JLJac on January 20, 2016, 12:30:34 AM</a></div><div class="quote">Rain World has two distinct alphabets though, the other lending its aesthetic from cyrillic letters.<br /></div><br />3 now!<br /><br /><br /></div><br />Whaaaaat<br /></div><br />Sky Islands circular text!<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/FCK4HO5.png" alt="" border="0" /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1524">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1525"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214052#msg1214052" target="_blank">JLJac on January 20, 2016, 06:15:34 AM:</a></b></td></table><br>Just a font variation of the asian alphabet&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/wink.gif" alt="Wink" border="0" /><br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/3bHd6.png" alt="" border="0" /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1525">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1526"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214179#msg1214179" target="_blank">JLJac on January 20, 2016, 02:33:58 PM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214068#msg1214068">Quote from: David Berman on January 20, 2016, 07:34:20 AM</a></div><div class="quote">That is a cool font variation (and great looking screenshot generally)! At first glance it shares a little similarity to the first half of the &#039;Utopian&#039; language of Thomas More&#039;s book Utopia, which was coincidently published 500 years ago this year: <a href="http://www.omniglot.com/conscripts/utopian.htm" target="_blank">http://www.omniglot.com/conscripts/utopian.htm</a><br /><br />Great answers from both of you on human (or otherwise non-human but equivalent) signifiers and the world/location in general. I think that the fact that this is a well thought out (and, of course, constantly evolving) process is demonstrable in the results - the abstraction (and thus the simultaneous alienation of the audience/slugcat) works, and adds to the mystery and intrigue of the world, ultimately capturing that hard-to-do thing of constructing a location as a character in its own right.<br /></div>Thank you! And all kudos to James for the world building, he really is making it &quot;a character in its own right&quot;!<br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214128#msg1214128">Quote from: Canned Turkey on January 20, 2016, 11:18:17 AM</a></div><div class="quote">This game has crossed the line of being beautiful and motivating, to being so amazing that it&#039;s slightly demotivating because I&#039;ll never be able to make something like this.<br />I don&#039;t think the indie community will see something of this caliber again for a long time.<br />The only compliment I can give to you is that stuff like this is why I love games, and why I love making them.<br /></div><br />Thank you for the amazing praise! Don&#039;t be demotivated - go pack to page one of this devlog and see for yourself what it used to look like. We started really humble - a few ideas and some knowledge of how to code in lingo(!) for macromedia director(!!!) and then slooooooowly worked our way to where we are now. <br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214154#msg1214154">Quote from: io3 creations on January 20, 2016, 12:10:37 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214136#msg1214136">Quote from: Jimym GIMBERT on January 20, 2016, 11:36:05 AM</a></div><div class="quote">It&#039;s basically time + experimentation = talent<br /></div>I&#039;m going to disagree.<br /><br />Pure experimentation is like playing the lottery.&nbsp; Very very very very few people get lucky that way.<br /><br />Some are lucky and have a nack for certain things but if you are not gifted then you can still learn certain principles and what works from other&#039;s works.&nbsp; However, much like tone deaf people won&#039;t be able to create good music, real talent tends to involve more than just hard work, trial and error or experimentation.&nbsp; There&#039;s some aspect that you either have and can build on ... or you don&#039;t.&nbsp; <br /><br />If you don&#039;t, then you focus on what you&#039;re good at and team up with people who are good in other areas. :D<br /></div>I&#039;m going to partly disagree! The way I see it, &quot;talent&quot; is basically the same as creativity - having ideas and wanting to express them. That&#039;s what keeps you pushing through all those thousands of hours of work, and then you get better at the craft as you go. That part might be something you&#039;re born with, idk. For sure there are some people like that guy in count of monte cristo who got thrown in jail and made ink with his blood to be able to continue writing, and then there are people who have every opportunity and never create art. I for one am certainly not an ink-from-own-blood type, if I get sick or something I forget art and focus on surviving, but I&#039;ve always taken every opportunity to draw or write or whatever and I don&#039;t get tired of it ~ and do think that thing has contributed to the incredibly lucky situation I&#039;m in today, where I can work on this amazingly fun project full time (and then some)!<br /><br />So if you really want to *make stuff* you&#039;d have to be in extraordinarily bad luck to not get good at it sooner or later, I believe. A very big part is knowing what you want to make. If you look at those screenshots Gimmy posted above here, you&#039;ll see that the artist basically had the idea for what style he was going for from the get-go, and those years were spent removing the stuff that didn&#039;t align with that style and exaggerating stuff that was in line with it (at least that&#039;s my interpretation). What&#039;s cool about it though is not the craftsmanship itself, but the stylistic idea which was always in there but which the increased technical skill made come alive in the later work.<br /><br />That&#039;s my thoughts on creativity!<br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214167#msg1214167">Quote from: tortoiseandcrow on January 20, 2016, 01:39:17 PM</a></div><div class="quote">Re: save states - I might be in the minority, but it&#039;d be very important to me to be able to have multiple save profiles so that I can also play the game and not have wait until my wife is finished.<br /></div><br />Noted&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0" /> <img src="/Rain-World-Devlog/Images/Smileys/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0" /> <img src="/Rain-World-Devlog/Images/Smileys/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0" /><br /><br /><b>Update 517</b><br />Got another polished region with functional shelters and a gate between them from James, and spent the day getting save states to work on an inter-region basis. Seems to be working out! Lots of special cases to test, such as if you&#039;re in one region, go into another for a bit, then go back and save, will your map exploration progress in that swiftly visited region be saved? Etc etc etc. <br /><br />Currently I&#039;m working on getting the map to display in the &quot;Sleep&quot; screen - we want to have it there so you can plot your next raid before actually hitting play and starting the rain counter. The problem with that is that in the sleep screen the world is unloaded, so can&#039;t easily ask rooms for their positions etc. I&#039;ve solved that by having the game process hand over a little batch of data to the sleep screen in its dying breath before being shut down, and that seems to be working out. Still a bit of fiddling to do, but hope to have something basic to show you within not too long! </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1526">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1527"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214348#msg1214348" target="_blank">jamesprimate on January 21, 2016, 03:32:05 AM:</a></b></td></table><br>The levels for instance... I basically started from zero a year and a half ago, not due to any grand passion I had to be a level designer but simply because someone needed to do them. Joar was too busy with creatures and I didn&#039;t trust anybody else to realize the clear vision I had for the world. 12-16hr a day 7 days a week will get you pretty good pretty quickly&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/tearsofjoy.gif" alt="Tears of Joy" border="0" />&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/cry.gif" alt="Cry" border="0" /> </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1527">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1528"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214385#msg1214385" target="_blank">jamesprimate on January 21, 2016, 06:51:57 AM:</a></b></td></table><br>*proof of no life*<br /><br />eh the point being that if i (a person with no real interest in level design or visual arts background) can get some good looking stuff, then you can too! its just a matter of how much grind you are willing to grind.<br /><br />grind.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1528">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1529"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214516#msg1214516" target="_blank">JLJac on January 21, 2016, 12:20:07 PM:</a></b></td></table><br><b>Update 518</b><br /><br />Sleep screen and map swarm room indicators coming along!<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/VelvetyEvenBooby.gif" alt="" border="0" /><br /><br />Probably don&#039;t have to mention that the illustration and the button are place holders...<br /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1529">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1530"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214547#msg1214547" target="_blank">jamesprimate on January 21, 2016, 02:08:09 PM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214518#msg1214518">Quote from: Christian on January 21, 2016, 12:26:57 PM</a></div><div class="quote">I recognize that layout like the back of my hand <img src="/Rain-World-Devlog/Images/Smileys/smiley.gif" alt="Smiley" border="0" /><br /></div><br />Haha I&#039;ll bet you do! New version has quite a few new tricks though, can&#039;t wait for you to see it&nbsp; &nbsp;<img src="/Rain-World-Devlog/Images/Smileys/wink.gif" alt="Wink" border="0" /><br /><br />So I had a nightmare of a day. Long story short: anal multiple redundancy file backup practices are well worth the fuss. Everybody take this opportunity to go backup your files right now!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1530">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1531"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214711#msg1214711" target="_blank">JLJac on January 22, 2016, 02:09:25 AM:</a></b></td></table><br>No! Any tips very very very welcome! </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1531">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1532"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1214900#msg1214900" target="_blank">JLJac on January 22, 2016, 02:50:33 PM:</a></b></td></table><br><b>Update 519</b><br /><br />Did some small AI touches to lantern mice and in the general AI modules affecting the behavior of all critters. Also some general maintenance work with the save states etc. At the moment though, I&#039;m working on A SECRET CREATURE! There are quite a few of them in there now - not anywhere near as many as the amount of critters devoted devlog followers <i>have</i> seen, and some of them are just variations/subspecies of already shown creatures, but still a fair few. Wouldn&#039;t want to rob you of the experience of discovering a new creature every now and then!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1532">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1533"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215283#msg1215283" target="_blank">JLJac on January 24, 2016, 01:45:09 AM:</a></b></td></table><br>YES! The code:<br /><br /><div class="codeheader">Code:</div><div class="code"><br />CGPROGRAM<br />#pragma target 3.0<br />#pragma vertex vert<br />#pragma fragment frag<br />#include &quot;UnityCG.cginc&quot;<br /><br />sampler2D _MainTex; //the map texture<br />sampler2D _mapFogTexture; //the map &quot;exploration&quot; texture<br /><br />uniform float _RAIN;<br /><br />uniform float2 _screenSize; //screen size in pixels<br />uniform float2 _mapSize; //map size in pixels<br />uniform float2 _mapPan; //the pan position on the map<br /><br />struct v2f {<br />&nbsp; &nbsp; float4&nbsp; pos : SV_POSITION;<br />&nbsp; &nbsp;float2&nbsp; uv : TEXCOORD0;<br />&nbsp; &nbsp; float2 scrPos : TEXCOORD1;<br />&nbsp; &nbsp; float4 clr : COLOR;<br />};<br /><br />float4 _MainTex_ST;<br /><br />v2f vert (appdata_full v)<br />{<br />&nbsp; &nbsp; v2f o;<br />&nbsp; &nbsp; o.pos = mul (UNITY_MATRIX_MVP, v.vertex);<br />&nbsp; &nbsp; o.uv = TRANSFORM_TEX (v.texcoord, _MainTex);<br />&nbsp; &nbsp; o.scrPos = ComputeScreenPos(o.pos);<br />&nbsp; &nbsp; o.clr = v.color;<br />&nbsp; &nbsp; return o;<br />}<br /><br /><br /><br />half4 frag (v2f i) : COLOR<br />{<br /><br />//This here is it!<br />float dst = clamp(distance(i.scrPos, half2(0.5, 0.5)), 0, 1);//distance to center of screen<br />half2 displace = normalize(i.scrPos-half2(0.5, 0.5)) * (1-dst)*pow(dst,lerp(4,6,dst))*2; //the displace vector. Spent lots of time tuning this one to get it right, not knowing that I&#039;d have to backwards-engineer it later!<br />displace.y *= 0.5 / 3.0; //Displace less vertically, as the screen is wider than tall (and divide by three because the map texture is 3x as tall as the actual map size, accommodating the 3 layers)<br />displace.x /= _mapSize.x / 500; //divide the displace with the size of the map texture getting a consistent amount of displace on different-sized maps (500 is a tuned value to get the right amount of displace)<br />displace.y /= _mapSize.y / 500; <br /><br />float h = 0.5; //the blue color channel tells the shader which layer it should render - if statement because the floats become a bit distorted in passing to the shader<br />if(i.clr.z == 0) h = 0;<br />else if (i.clr.z == 1) h = 1;<br /><br />//get the grab coordinate on the map texture<br />half2 grabPos = half2(_mapPan.x + (i.uv.x - 0.5) * (_screenSize.x / _mapSize.x) / lerp(3.25, 4.75, i.clr.y), (_mapPan.y / 3.0) +&nbsp; ((2.0*h)/3.0) + ((i.uv.y - 0.5)&nbsp; * (_screenSize.y / _mapSize.y) / lerp(3.25, 4.75, i.clr.y)) / 3.0);<br />grabPos -= displace; //applying the displace. If I comment this out, I get a flat-looking map onto which I *can* place markers accurately.<br /><br />if(grabPos.y &lt; lerp(0.0, 2.0, h)/3.0) grabPos.y = lerp(0.0, 2.0, h)/3.0; //clamping the grab coord in the vertical third of the texture that is this layer of the map<br />else if(grabPos.y &gt; lerp(1.0, 3.0, h)/3.0) grabPos.y = lerp(1.0, 3.0, h)/3.0;<br /><br />half4 grabCol = tex2D(_MainTex, grabPos);<br /><br />//this stuff below here is just about giving the pixel the right color once I have the right texture coordinate - not really relevant to the problem at hand<br /><br />if(grabCol.y &gt; 0.5 || tex2D(_mapFogTexture, grabPos).x &lt; 0.5) return half4(0,0,0,0.7 * i.clr.w * (1.0 - i.clr.x));<br /><br />float lght = grabCol.x;<br /><br />if(lght &gt;= 0.3 &amp;&amp; lght &lt;= 0.7 &amp;&amp; grabCol.y == 0)<br />return half4(1,1,1,1 * i.clr.w);<br />else if(lght &lt; 0.3){<br />return half4(0,0,0,0.7 * i.clr.w * (1.0 - i.clr.x));<br />}<br />else if(grabCol.z &gt; grabCol.x*lerp(0.5, 0.9, sin((grabPos.x - (_RAIN*75/_mapSize.x))*_mapSize.x*0.25))) <br />return half4(0.05,0.05,0.8,i.clr.w*lerp(0.5, 0.1, i.clr.x));<br />else {<br /><span style="white-space: pre;"> </span>if(tex2D(_mapFogTexture, grabPos).x &lt; 0.54)<br /><span style="white-space: pre;"> </span>return half4(0,0,1,i.clr.w);<br /><span style="white-space: pre;"> </span>else<br /><span style="white-space: pre;"> </span>return half4(0.25,0.25,0.25,0.4 * i.clr.w * (1.0 - i.clr.x));<br />}<br />}<br />ENDCG<br /><br /></div><br />Please keep in mind that I&#039;m a self-taught savage that never intended for anyone to read this code, so it might be baaaaaaad. <br /><br />The map is three layers, each of which occupy a vertical third of the map texture. The sprite knows which layer to draw from by its blue color channel - actual map object has three sprites with blue colors 0, 0.5 and 1. Those map sprites are the same size as the screen, ie 1024*768 or 1366*768 in case of wide screen. <br /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1533">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1534"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215350#msg1215350" target="_blank">JLJac on January 24, 2016, 08:20:06 AM:</a></b></td></table><br>Exactly the same result up when 0&lt;x&lt;1 yep! The corners are however in a range where x is up to the square root of two, and then you get these weird effects with a simple x^5 function:<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/mPrh.png" alt="" border="0" /><br /><br />It&#039;s a super-distortion where the image sort of doubles back and becomes mirrored around some edge, presumably the perimeter where the distance is equal to one. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1534">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1535"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215353#msg1215353" target="_blank">JLJac on January 24, 2016, 08:37:15 AM (Last Edit: January 24, 2016, 08:55:35 AM):</a></b></td></table><br>Actually using the formula I&#039;ve copied straight from my code the reason becomes pretty evident - the distortion is allowed to taper after a bit instead of shooting exponentially for the stars. <br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/jg3CP.png" alt="" border="0" /><br /><br />Also one thing that I tend to forget is that the dst value is not 1 at the edges, but 0.5 ~<br /><br />One curve that looks almost identical though is y = x^5 - x^7... That one is so simple, has got to be possible to do backwards! Gosh I wish I had some sort of math education :S </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1535">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1536"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215556#msg1215556" target="_blank">JLJac on January 24, 2016, 11:21:54 PM:</a></b></td></table><br>Hm hm hm... The problem is that what I&#039;m <i>after </i>is that decline that makes it hit zero at x = 1. This actually makes sense if you consider the graphical result I&#039;m after. If you consider the zoom level at the corners as a default, there should be zero distortion out there. At the center of the screen you can&#039;t have any radial distortion or else you end up overshooting the center coordinate and get weird circular artifacts. So, what remains to be distorted is the area in-between, ie 0&lt;x&lt;1.<br /><br />Another problem is that what may appear as very small differences on a graph becomes large and noticeable in the actual shader. For example, the simpler function y = x<sup>5</sup> - x<sup>7</sup> looks similar to the more complicated y = 2*(x<sup>4+2x</sup> - x<sup>5+2x</sup>) when plotted, but in the shader it makes the difference that the entire center area suddenly looks flat rather than bulging with the bulge now concentrated to the sides, which isn&#039;t as visually exciting. <br /><br />My friend suggested a lookup-table as a solution. That might be worth trying?</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1536">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1537"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215572#msg1215572" target="_blank">JLJac on January 25, 2016, 01:02:41 AM (Last Edit: January 25, 2016, 01:42:33 AM):</a></b></td></table><br>Offset texture sounds like a good idea - it&#039;s basically just a 2D lookup table, right? <br /><br />Now, specifically how specifically would I use it? Say that I have a texture where the r channel of each pixel represents ...<br /><br />HEY hold on a minute! That function 0.275*pow(dst, 3.14) you posted actually yields a VERY similar result to the original one! I could totally roll with that! So, let&#039;s inverse it then &nbsp;<img src="/Rain-World-Devlog/Images/Smileys/grin.gif" alt="Grin" border="0" /> That would be a pretty simple log calculation, right? <br /><br /><br />EDIT: Using the wolfram alpha inverterter I got an inverted function:<br /><table class="lostimage"><td><img src="/Rain-World-Devlog/Images/LOST IMAGE.png" width="150px" alt="" border="0"/></td></table><br />however I can&#039;t seem to be able to milk it for the right results - guess I just lack knowledge on how to apply it -.- Just doing a straight up displacement using that new curve obviously doesn&#039;t work because as you can see from its convex shape I get super much displacement in the center of the image, which is the opposite of how the displacement in the shader goes about. <br /><br />Will have to ponder it a bit!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1537">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1538"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215606#msg1215606" target="_blank">JLJac on January 25, 2016, 04:11:56 AM:</a></b></td></table><br>Dude, you don&#039;t even want to know. I&#039;ve fallen into a programming habit where I have basically everything as floats between 0 and 1 and use lerps within lerps within lerps, and pows, so many pows. Because pow has a really nice effect on a 0&lt;=f&lt;=1 float, being that it sort of shits the value upwards or downwards (exponent below or above 1) whilst keeping the edge cases 0 and 1 in the same places. So then I can change the tendency of a value, but still know where I have my edge cases, like so:<br /><br />if(Random.value &lt; Mathf.pow(anger, Mathf.lerp(1.5f, 0.3f, personality.mean)))<br />&nbsp; &nbsp; Attack();<br /><br />In the above case the chance of attacking will always be 0% if anger is 0, and always be 100% if anger is 1, but in the cases in-between the curve is skewed depending on the personality.mean variable. I love it, and it has soooooooo many floating point exponents&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/wtf.gif" alt="WTF" border="0" /><br /><br />And... this has of course leaked into my shader code as well. So, yeah, thanks for the heads up. Might need to go in there and clean a bit of that up if it&#039;s a big problem. I haven&#039;t noticed any performance issues with it though, neither in the c# or the shaders. Admittedly haven&#039;t tried on a lot of computers, so the problem might surface during beta testing - but we have run it on a few computers including a weak laptop and haven&#039;t had any issues so far. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1538">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="1539"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1215614#msg1215614" target="_blank">JLJac on January 25, 2016, 04:46:31 AM:</a></b></td></table><br>Don&#039;t think I&#039;d generate the texture in CG though, in my setup I just have shader CG code that runs for each frame times each pixel. So better then to generate it on game start up and then just feed the texture to the shader.<br /><br />It would solve the problem for sure. I actually wouldn&#039;t even need a 2D texture - the direction of the displacement is always the same (towards center) so what I need is just the magnitude of it which could be stored in a 1D texture, where the r value of each pixel is magnitude in one direction and the g value is magnitude in the other. Easy!<br /><br />The reason I&#039;m hesitating is that it feels slightly... inelegant. Don&#039;t want to generate and keep a texture in the ram which I have to keep a reference to etc... When it should be possible to do it all in pure math. Also I&#039;m starting to have a little bit of an issue with the time the game takes to boot (think it&#039;s just the sheer amount of code compiling - it&#039;s a second or two so not a problem as a loading time for a finished game but a bit annoying in development where you have to jump in and out again and again) so I&#039;m not in love with the idea of adding another potentially time consuming procedure on start up. <br /><br />Hm hm hm. Gonna try the maths approach a little bit more, then I&#039;ll probably give up and do the texture either way! </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/077#1539">[Message link]</a></div></div><div class="sidebar"></div></div><br></body>