<head><title>Rain World Devlog</title><link rel="icon" href="/Rain-World-Devlog/Images/Archived Images/ljrr7.jpg"><link rel="stylesheet" href="/Rain-World-Devlog/css/style.css"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Rain World Devlog Archive"></head>
<body class="body">
<div class="header"><span id="pagelist"></span>&emsp;&emsp;&mdash;&emsp;&emsp;<img src="/Rain-World-Devlog/Images/Title.png">&emsp;&emsp;&mdash;&emsp;&emsp;<a href="/Rain-World-Devlog/Home">Home</a></div><script src="/Rain-World-Devlog/js/pagelist.js"></script><script src="/Rain-World-Devlog/js/header.js"></script><br>
<a name="840"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1082508#msg1082508" target="_blank">JLJac on November 12, 2014, 11:52:23 PM:</a></b></td></table><br><b>Update 354</b><br /><br />Today&#039;s gif is pretty monstrous, so I&#039;m actually gonna link it rather than embed it.<br /><br /><a href="https://gfycat.com/EvenCircularDevilfish" target="_blank">http://gfycat.com/EvenCircularDevilfish</a><br /><a href="https://giant.gfycat.com/EvenCircularDevilfish.gif" target="_blank">http://giant.gfycat.com/EvenCircularDevilfish.gif</a> (gif version, warning! 40 MB!)<br /><br />Effects for approaching rain! <br /><br />Other than that, today has included a lot of polish in various areas. Added screen shakes for when heavy objects impact the terrain, sparks when weapons hit the walls, fixed a bug where the player&#039;s hands were invisible, and so on an so forth. <br /><br />Oh, and maybe more important than that stuff - I made the picking up / throwing / putting down of items work. It&#039;s a pretty complex system that takes a lot into consideration - the basic idea is that you have two hands and can carry a thing in each (fly, rock, spear), but there are many special cases. For example, you can&#039;t dual wield two spears, but one spear and one other object is allowed. And flies have lower priority - if you are standing on a weapon holding a fly, the fly should be released in favor of the weapon, but only if you don&#039;t have a <i>free</i> hand to use instead. If you hit the throw button and are holding a rock and a fly, you probably want to throw the rock, not the fly... And so on. Basically a huge amount of special cases where the game should cater to the player and try to be user friendly.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#840">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="841"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1082820#msg1082820" target="_blank">JLJac on November 14, 2014, 12:51:27 AM (Last Edit: November 14, 2014, 04:44:03 AM):</a></b></td></table><br>Anyone second switching to gyfcat? I don&#039;t think they can be embedded, so I&#039;m afraid the devlog might look a bit boring if all the animations are hidden behind links... Maybe for the bigger ones?<br /><br /><b>Update 355</b><br />Painstakingly re-added effect colors to the Unity Build! This took me on an epic journey through the two things that are my cryptonite - Adobe Director and Shaders. But it worked out in the end!<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/nhdV4.png" alt="" border="0" /><br />(that little red stuff along the edge of the wall... No idea what that is! Have to hunt it down.)<br /><br />Each effect color is actually no less than eight colors:<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/guskO.png" alt="" border="0" /><br /><br />The upper four pixels of one of these segments are: The color when it&#039;s close, and lit. Then close, and shadowed. Below that, distant and lit, distant and shadowed. Under each such block is the same thing repeated, but for the dark palette when the rain is getting closer. Here the left and right columns are the same, because there shouldn&#039;t be any light around anyways.<br /><br />For the distance factor, the shader simply lerps between the colors depending on the depth of the specific pixel, making the colors a bit more washed out if they are further off into the fog.<br /><br />The difference between the first and the second color here is that the second one is glowing in the dark - its &quot;shadowed&quot; colors are the same as its lit colors. I&#039;m pretty happy to have that amount of control - it means there&#039;s a lot of potential to fine-tune the aesthetical experience.<br /><br />The colors themselves are not tuned yet though, and very much subject to change, but the system is up and working!<br /><br />Going into the level editor I also fixed a few things in the level save method - now it saves fly hives again. Another thing that made a comeback for the first time in the unity version is that the level recognizes &quot;back walls&quot;, ie terrain that is behind the &quot;play layer&quot; but close enough for wall climbers to crawl on. <br /><br />Other changes include some polish of swimming controls. Now you can get into the &quot;wall slide&quot; position while in the water, which allows you to do a little wall jump. The lack of this feature had annoyed me for a while. There was also a weird glitch where you could exploit the water physics by rapidly tapping the jump button while swimming at the surface, the slugcat would somehow build up a wave and ride it, going faster and faster. I messed around with that a bit, adding a delay on the jump from the water surface, and balancing its forces a bit. While I was in the swimming code, I also added a potentially fun little feature - if you press the jump button while <i>under </i>water, you can get a little speed boost in exchange for a small amount of the air in your lungs. It isn&#039;t really worth it in most cases, at least not with my play style, but I always enjoy giving the player some extra options to make choices have even more depth. In some situation it might be just the thing.<br /><br />Last for today, I got started on having the game recognize bat hives, grouping them properly etc. After that stuff is done, I hope to get to bat swarm behavior. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#841">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="842"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083583#msg1083583" target="_blank">JLJac on November 17, 2014, 12:14:59 AM:</a></b></td></table><br>Hm, ok... Maybe I&#039;ll hide the gifs behind links if they surpass 20 or 30 GB or something? Again, if anyone else has an opinion on this, speak up. I know there are quite a lot of lurkers ~ and as no one has said anything yet I&#039;ve assumed that people are happy with the format, so I think I&#039;ll have to keep it the same unless more than one person wants to change it.<br /><br /><b>Update 356</b><br />James and I have decided to do a push on adding back the core features to the game - we want to &quot;catch up&quot; with the lingo version ASAP. Catch up is a weird wording, as the unity version is insanely more advanced and complex than the lingo version already, but some of the more mundane features have been lagging behind. So, today I present to you: fly eating!<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/qLGg9.gif" alt="" border="0" /><br /><br />It&#039;s interesting how many things you forget has to be implented - for example I spent a couple of hours today adding the ability for flies to <i>be dead</i>, which was pretty necessary to proceed haha. The amount of weird little things like this, that seem to be so obvious that you tend to overlook them, has also increased further with the addition of water. Basically everything I do, I have to do twice now. How does a fly move? And how does it move when in water? How does it move when dead? How does it move when dead and in water? <br /><br />For most land creatures the water behaviors are reduced to just a couple of lines that basically describe &quot;panicked writhing&quot; so it&#039;s not really as bad as it sounds. The problem is that there are <i>a lot </i>of these scenarios. A few days back I made spear and rock behavior for underwater conditions, and the flies and lizards seem to be handling it OK as well though the lizard AI really needs to be more careful not to fall in. The scary thing is that whenever I think of something that was in the old version, or something we&#039;ve promised to put in the new version, there&#039;s also the big question mark of how it&#039;ll interact with water. Pups + water? No idea, haven&#039;t given it any thought yet o___0 <br /><br />I think keeping most of these interactions simple will be the best route. And despite all this, James and I are super agreed that adding the water was worth it - it does add a bit of extra work, but it adds way more in terms of gameplay depth.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#842">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="843"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083653#msg1083653" target="_blank">jamesprimate on November 17, 2014, 07:39:50 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083626#msg1083626">Quote from: Christian on November 17, 2014, 05:14:14 AM</a></div><div class="quote">As for pups, I had always envisioned them as kind of helpless. Maybe they can&#039;t swim? So you&#039;d have to carry them underwater, or it could lead to some tense scenarios where you have to make a desperate dive to save a pup that fell into water.<br /></div><br />totally agree!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#843">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="844"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083764#msg1083764" target="_blank">jamesprimate on November 17, 2014, 02:13:40 PM:</a></b></td></table><br>hahah i love RPS! why do they always talk about game maker though??? we&#039;ve never touched game maker, rofl. (not that im going to complain about awesome enthusiastic coverage though! they can call it whatever they want)<br /><br />thanks Graham <img src="/Rain-World-Devlog/Images/Smileys/smiley.gif" alt="Smiley" border="0" /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#844">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="845"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083858#msg1083858" target="_blank">jamesprimate on November 17, 2014, 06:15:58 PM:</a></b></td></table><br>Joar could answer this way better than me obviously, but basically everything is custom Joar work. Engine was build from scratch TWICE, first in lingo and now in C# using the code-centric futile framework for unity (so you are right, no unity workflow at all.) the level editor, also hand rolled, is still in lingo actually and has to run instanced from inside director haha</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#845">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="846"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083929#msg1083929" target="_blank">JLJac on November 18, 2014, 12:21:39 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083913#msg1083913">Quote from: oyog on November 17, 2014, 11:04:19 PM</a></div><div class="quote">It&#039;s not too obtrusive but I still don&#039;t feel like it fits with the atmosphere of the game. It feels artificial in a game that (as far as I&#039;ve seen) is entirely organic.<br /><br />I&#039;d like to revisit the idea of bugs to show a player there&#039;s a shortcut nearby. It might be interesting to use a swarm of bugs settling or being agitated as a player gets close to designate a shortcut.<br /></div><br />A main theme at play here is the contrast between artificial and organic. You might have noticed how the environments are very industrial, but the creatures living in them are not. So the digital vibe from the shortcuts are not a problem to me because of <i>that </i>reason. What is a bit problematic is that we want to keep working machines to a minimum - you&#039;re supposed to look at old machinery, but not interact with it a lot. The shortcuts as they are are obviously an exception to that.<br /><br />I&#039;m not the hugest fan of the bug idea because it would introduce a living element to every room, always. The palettes of moods we can create is limited if we can&#039;t have just an empty room with nothing living in it. As the world is rather barren, and creatures are generally the only objects allowed to move, creatures become natural focal points with a lot of gravity to them. I want to keep it that way - if you spot something living you should be cautious and intrigued - living things shouldn&#039;t be scattered all over every level.<br /><br /><b>Update 357</b><br />WIP death rain. Doing it as a shader this time around, which is kind of difficult.<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/0BpT7.gif" alt="" border="0" /><br /><br />Hm, the gif capturer really went hard on this one... With the full framerate, it appears denser, and has a downwards movement going through it - making it look like it&#039;s falling rather than flickering between different images, hehe. The unpleasantness of it comes through though!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#846">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="847"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084009#msg1084009" target="_blank">jamesprimate on November 18, 2014, 06:06:10 AM (Last Edit: November 18, 2014, 06:15:01 AM):</a></b></td></table><br>death rain is looking suitably brutal! you seem to be all in on shader black magick, very nice. <img src="/Rain-World-Devlog/Images/Smileys/wizard.gif" alt="Wizard" border="0" /><br /><br />as for the long going shortcut debate, i think it will make a LOT more visual sense in actual game context than in the default rooms Joar is using for test purposes. wait and seeeeee! coloration and brightness is certainly something worth considering though.<br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1083979#msg1083979">Quote from: Caspar2000 on November 18, 2014, 04:01:19 AM</a></div><div class="quote">Seeing the youtube with music adds very much to to the experience of this devlog. I read the log often and I am used to seeing the gifs only. I would love to read (or hear) a bit about the development of the music. It gives so much depth to the scenes. <br /></div><br />thank you! i feel the same way, ahah. yes there is a lot to talk about for that O_O, but we will probably wait until we have the audio engine implemented before going too much into it here. right now i have about 100 tracks in various stages of completion, but they are kind of on the shelf for now until we have the regions constructed and the specific scenarios / narrative stuff all nailed down tight. dont want to put TOO much cart before horse, etc. <br /><br />But long story short for all of that, the focus is going to be on atmosphere, audio being a blend of ambient textures and &quot;music-like&quot; elements woven through, with more &quot;song-like&quot; elements used to set mood for specific locations / scenarios. I imagine &quot;washes of sound and strange music&quot; that weave in and out of the gameplay. Also we have a notion for some procedural-esque properties with how the audio is handled, so perhaps you never quite hear the same audio environment twice.<br /><br />Anyway, hope that answers the question a little, or perhaps tantalizes for future interest! </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#847">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="848"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084231#msg1084231" target="_blank">JLJac on November 18, 2014, 05:50:00 PM:</a></b></td></table><br>James, I know you&#039;re kind of in the zone with the level editor stuff now, but once you re-surface I&#039;m pretty sure people would be interested in a more in-depth description of your creative process with the music. Like, I tend to describe how I make everything down to the tiniest detail, but with the music we&#039;ve pretty much only published finished results so far. Would it be possible to make some step-by-step display of how a piece of music/ambience comes into existence? I&#039;m not all that sure how you&#039;d display something non visual like that... But it would be cool to provide a bit more detail in that area too!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#848">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="849"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084295#msg1084295" target="_blank">JLJac on November 18, 2014, 11:47:03 PM:</a></b></td></table><br><b>Update 358</b><br /><br />Game over screen finished enough for now!<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/9Vo68.gif" alt="" border="0" /><br /><br />The sound is pretty important for this one. As the level becomes darker, there is a violent rain sound that becomes louder and louder. When the screen suddenly turns black, there&#039;s a drum-like sound, and then everything is quiet. This contrast makes for a pretty dramatic effect! Then, in the quiet, you hear the first couple of rain drops hit the ground, and then the real death rain comes very suddenly, with a deafening noise. In the lingo version this transition was really sudden, but here I have given the transition to the death rain a little more build up - I don&#039;t really know which one is preferable. It was kind of cool to have the wall of white rain suddenly just <i>be </i>there, but this build up approach seems more organic.<br /><br />The next thing I&#039;m moving on to is flies swarming behavior. The bad news about this is that I need to re-visit the dreaded <i>Prebaked AI Code</i>, because flies need to save the distance to their hives within the same framework as they use to save distances to room exits. Going in there again this time the code has been behaving <i>mostly </i>civil though, so with some good luck it might not be too bad. If I can just create a special case for the fly creature template to make it store a few extra dijkstra maps per room, that ought to do it - and I see no reason why that shouldn&#039;t work out. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#849">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="850"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084396#msg1084396" target="_blank">jamesprimate on November 19, 2014, 08:14:18 AM (Last Edit: November 19, 2014, 08:25:07 AM):</a></b></td></table><br><b>PRETTY BIG NEWS:</b> the first region of the game world actually is up and running!&nbsp; <img src="/Rain-World-Devlog/Images/Smileys/hand-metal-r.gif" alt="Hand Metal Right" border="0" /><br /><br />For the past few months I&#039;ve been planning out and constructing the first playable area of the game world, a somewhat self-contained 30-ish room &quot;suburban&quot; region. Joar and I have been calling it &quot;vanilla rain world&quot;, as its all about the vibe and scope of the original rain world game concept, before the game branches out and begins exploring interactions with new areas, mechanics, creatures, etc. <br /><br />Anyway, the process to get it all rendered and connected and working with the new engine has been a bit tricky (to say nothing of the work actually constructing it!), requiring multiple updates to the level editor and tons of fiddling with fussy details in the individual rooms etc. But this morning after a new build and some time fiddling, it booted up smoothly and OMG IT FINALLY WORKS:<br /><br /><img src="/Rain-World-Devlog/Images/Archived Images/skw4fyAl.png" alt="" border="0" /><br /><br />See those colored squares at the top? That means the whole region, all 30 rooms, are up and running and interconnected and talking to each-other, just like they&#039;re supposed to. You can move fluidly from room to room and it all works without a hitch. It&#039;s one thing to know that *theoretically* it should work, and totally another to have the pieces come together and it actually happen. If I had ten bottles of champagne i&#039;d pop them all right now. <br /><br />There is still quite a bit of polish to add, some of the rooms are still connecting a bit funky, but this is some solid progress. And now Im going to go get a meatball sub to celebrate!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#850">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="851"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084465#msg1084465" target="_blank">jamesprimate on November 19, 2014, 01:42:08 PM:</a></b></td></table><br>its probably been a while since we actually talked about the function of the rain huh? the rain is a perpetual cycle. &quot;Rain World&quot; and all that. basically you have X amount of time to go out into the world, gather food and return to your shelter and hibernate before the the rain strikes. if you dont gather enough food for that cycle, you starve. if you get caught in the rain, the above happens. if you get eaten by some other hungry creature... well thats obvious. but that is the basic game mechanics in a nutshell!<br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084444#msg1084444">Quote from: Christian on November 19, 2014, 11:48:39 AM</a></div><div class="quote">Any chance we could get a video of the death rain? Sounds like you really need to hear it to get the full effect <br /></div><br />audio engine isn&#039;t implemented yet, but certainly we will post video when it is!<br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084402#msg1084402">Quote from: Prinsessa on November 19, 2014, 08:49:38 AM</a></div><div class="quote">I prefer the build-up version of the rain!<br /></div><br />the black screen rain is the kill screen basically (&quot;game over! continue?&quot;), with the build-up being the indication of impending doom while still playable. So 2 sides of the same coin!<br /></div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#851">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="852"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084514#msg1084514" target="_blank">jamesprimate on November 19, 2014, 05:39:11 PM:</a></b></td></table><br>Yep! The bat nests that are your main food source deplete as you consume them, forcing you to journey further into the world each cycle in search of new things to eat. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#852">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="853"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084597#msg1084597" target="_blank">JLJac on November 20, 2014, 02:48:42 AM:</a></b></td></table><br><b>Update 359</b><br />Running around in the world James has been working on was amazing! I put on some rain world OST and just ran around exploring, and that&#039;s a pretty cool experience just that - no lizards or anything added yet. It&#039;s a lot of fun to for the first time play the game without having made the levels myself, the anticipation and curiosity obviously becomes much greater. 30 rooms feels big, I spent quite a lot of time just running around and trying to create a mental map of the place.<br /><br />In other news, bats can now dive down and disappear in their weird &quot;bat grass&quot;, only to pop up in the grass somewhere else. The animation isn&#039;t really gif-worthy yet, but the basic mechanic is in there. Next up would be room-to-room migration, I believe. Saving extra dijkstra maps to the level files proved to be less of a horror than feared and anticipated.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#853">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="854"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1084854#msg1084854" target="_blank">JLJac on November 21, 2014, 12:25:33 AM:</a></b></td></table><br><b>Update 360</b><br />Started on a big scary thing called Flies World AI. This entity is supposed to coordinate flies on a world level, through abstract and realized rooms alike. <br /><br />What it can do so far is create dijsktra maps in the abstract world, mapping the distance to each swarm room for each room. Any room (or node actually) can ask the world AI for a &quot;migration direction&quot;, ie a neighboring room that flies in this room should migrate towards. Depending on what mode the World AI is in, it will calculate this migration direction depending on different criteria. <br /><br />Right now I have two such modes set up: spread and swarm. In the spread mode, the migration direction of any room will be the neighboring room with the <i>least </i>flies in it. This means that the flies will spread evenly throughout the entire world. The swarm behavior has flies move towards the nearest swarm room. <br /><br />Both of these seem to work nicely! I can have a lot of flies gather in a room, and then go to the next room and start the &quot;spread&quot; behavior. Soon flies will come out of the swarm room, and spread out in every direction. Then if I switch back, I can see them emerge from all over to gather in the swarm room again. <br /><br />Next step is to create some swarming behaviors that actually make sense, and tie them to the rain cycle. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#854">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="855"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1085643#msg1085643" target="_blank">JLJac on November 23, 2014, 06:04:02 PM:</a></b></td></table><br><b>Update 361</b><br />Did some work over the weekend - mostly revisiting the Quantified Creature stuff. Quantified creatures are creatures where the individuality of the creature is irrelevant, meaning the game doesn&#039;t save health and stuff like that for the critter when in abstract space. Right now bats are the only quantified creature. Basically the game does not save these creatures in the abstract creature framework, but just saves the amount of creatures per room (actually node) as an integer.<br /><br />The problem was that there were some loop holes when changing between the realized and quantified states - meaning that the populations weren&#039;t consistent. Sometimes bats would disappear or appear in the transitions between the states, and there&#039;d be situations with schrödinger&#039;s bats, bats existing and then suddenly not existing, or the other way around. After re working the system, it seems it&#039;s water tight; 50 bats is 50 bats, and they only disappear or appear when eaten or spawned.<br /><br />With that down, I could actually get started on bat migration patterns.<br /><br />Right now I have a pretty simple system. Bats spawn in their swarm rooms, and hang around there. Every now and then the game checks <i>all </i>the swarm rooms, and finds out which is #1 and #2 in amount of bats.<br /><br />#1 is assigned a &quot;spread&quot; behavior, where bats will move out of the room and spread into neighboring areas. When they get close to another swarm room, they&#039;ll start gravitating towards that one.<br /><br />#2 is assigned a &quot;migrate&quot; behavior, where another swarm room is picked at random and the bats start moving towards it. On their way there, they&#039;ll most likely hit another swarm room&#039;s proximity, and start gravitating towards that one.<br /><br />As this goes on for a while, #1 and #2 will be more or less emptied, while other swarm rooms will gain bats. Then the same process hits again, and a new #1 and #2 will be assigned.<br /><br />The effect is that bats seem to move around between swarm rooms at random. If you&#039;re out in the world, between swarm rooms, you&#039;ll sometimes see little flocks of bats passing through your room on their way to some other place. This is the key feature, as it&#039;ll allow the player to follow those stray bats and end up in an active swarm room. <br /><br />It will take some playtesting before we know the system really works. But I&#039;m happy with the fact that the system can potentially lead the player towards swarm rooms without necessarily catering too much; the bats are not trying to help you actively, they&#039;re just going about their own business and if you&#039;re clever you can take advantage of that behavior. <br /><br />Today I&#039;ll fine tune it a bit further, and see how it plays out. Maybe if stray bats become too sparse, so you very seldom have any to follow, I&#039;ll add a phase at the very start of the cycle where migration is more common. </div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#855">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="856"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1085648#msg1085648" target="_blank">jamesprimate on November 23, 2014, 06:41:52 PM:</a></b></td></table><br>^ super excited about this. we&#039;ll have to do a bit of testing how it works in-game, but having such an elegant, natural solution to the &quot;how do we unobtrusively push players toward swarm rooms&quot; problem would feel like a real victory for the mood were trying to create.</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#856">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="857"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1085741#msg1085741" target="_blank">JLJac on November 24, 2014, 04:43:30 AM:</a></b></td></table><br><b>Update 362</b><br />Huuuuge step. Got the entire world up and running, with migrating bats and lizards spawning in their dens, later emerging to hunt, and then returning as the rain approaches. <br /><br />Good news and bad news. Good news are that YYYAAAYYYY it&#039;s up and running! Everything basically seems to work - the creatures spawn, move about, you can encounter them, they don&#039;t disappear or randomly appear, the ai seems to be able to somewhat handle most situations. <br /><br />Bad news are not really anything unexpected, it&#039;s just that in this new - vastly more complex - context every little glitch and lack of polish becomes more prominent. The lizards getting stuck, the AI throwing missing reference exceptions, the AI not always making the best decisions, all of that is now way more visible. In my previous test environment there was just a single room, or a few interconnected ones, and I&#039;d hit restart over and over while testing stuff. Now we have way longer sessions of gameplay, making every error stick around for a longer time and becoming more visible. This, in combination with the environments and situations being generally more complex and error-prone, makes for a generally more glitchy experience.<br /><br />But, as I said, this was pretty much expected. Now the glitchy stuff is there, all visible, and I&#039;ll just have to hunt the issues down one by one. Everything essential and important is working.<br /><br />It&#039;s probably too early to say anything about the game design implications of this new environment, I just haven&#039;t had enough time to play the game. I&#039;ve noticed a few things, such as despite sprinkling the world with what seemed like quite a lot of lizards, lizard encounters seem sparse while moving through the world. Maybe this has to do with the amount of lizards, but I rather think its about their mobility. I might want them to move more between rooms. <br /><br />Gonna play the game a bit more! Brb!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#857">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="858"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/JLJac.gif" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1086083#msg1086083" target="_blank">JLJac on November 25, 2014, 03:11:33 AM:</a></b></td></table><br>Yeah that was the original idea, but I think James have had some other thoughts since then. James?<br /><br /><b>Update 363</b><br />Another significant step - the room loader. This is the thing that loads rooms that are near to you and unloads rooms left behind. Right now it&#039;ll light up all neighbors to where you are (there is a limit, so not infinitely many rooms), and if too many rooms are active it&#039;ll start shutting them down. Then it goes by stuff like how long ago the room was viewed, and how many screen transitions ago.<br /><br />Neighboring rooms that are activated and then <i>never </i>visited are unloaded on the next room transition. The system seems to run well! Performance wise it&#039;s smooth enough so far, and having all neighboring rooms loaded creates the nice effect that whatever room you&#039;re entering has been loaded a little while. Earlier the creatures would display a few frames of &quot;I&#039;ve just been loaded and will now try to act like I was here all along&quot;, but now when you first encounter them their animation states are already looking natural.<br /><br />Other stuff of today&#039;s progress include:<br /><br />* James requested being able to define some rooms and room connections as off-limits to bat migration, in order to be able to exercise a little more control over how bats move in the world. So I got some functionality for that in.<br /><br />* The dripping water from the ceilings would be much more intense in small rooms, because it worked by picking a random ceiling tile every now and then and creating a water drip at it. Smaller ceiling, more concentrated dripping. I fixed this so the ceiling dripping appears a bit more even.<br /><br />* You could wait at a shortcut entrance and eat an infinity of bats as they popped out of it. This obviously kind of broke the game. The hack I put in place is that bats now shoot out of shortcuts pretty fast, and have a few frames of &quot;uncatchability&quot; - the in canon idea being that they&#039;re swishing out of there too fast to catch or something. <br /><br />* There was an error with effect colors (colors on plants, signs etc) where the last room&#039;s effect color would carry over when moving between rooms. Fixed that.<br /><br />* Some minor animation quirks with the player character ~ there are more of those, but they&#039;re not really game breaking so they don&#039;t have the absolutely highest priority.<br /><br />* Made the debug stuff (ugly map and ugly mouse cursor) hideable with a button. Long time coming, this one!<br /><br />* Made it so that you can start the game in any room in the world, hopefully making level design a bit less painful for James as he won&#039;t have to actually walk all the way to the level he&#039;s working with in order to try it out.&nbsp; <br /><br />So, that&#039;s one chunk of quirks down! The most scary stuff though, the lizard related glitches, I haven&#039;t gotten around to yet. Maybe tomorrow!</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#858">[Message link]</a></div></div><div class="sidebar"></div></div>
<br><br><hr><br><br>
<a name="859"></a><div class="container"><div class="sidebar"></div><div class="postbox"><div class="post"><table><td><img src="/Rain-World-Devlog/Images/jamesprimate.jpg" class="pfp"/>&nbsp;&nbsp;&nbsp;</td><td><b><a href="https://forums.tigsource.com/index.php?topic=25183.msg1086143#msg1086143" target="_blank">jamesprimate on November 25, 2014, 07:19:14 AM:</a></b></td></table><br><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1086012#msg1086012">Quote from: DarkWanderer on November 24, 2014, 07:33:00 PM</a></div><div class="quote">So I take it the challenge rooms you can play in single player or multiplayer (after having had discovered them) will be tied to the &quot;swarm rooms&quot; then? I remember James I think saying the challenge levels are based around rooms with bats in them.&nbsp; <br /></div><br />still planning on that! though it looks like we are having some multi-screen swarm rooms, which would be impossible to do 4-player multi on, so im thinking rather than &quot;every swarm room is also a multiplayer room&quot; we maybe just choose the best ones (we will probably have QUITE A FEW to choose from) and make a bunch of multi-player specific ones down the road as well. <br /><br /><div class="quoteheader"><a href="https://forums.tigsource.com/index.php?topic=25183.msg1086110#msg1086110">Quote from: fylth on November 25, 2014, 05:22:19 AM</a></div><div class="quote">Many of the rooms seem to be open (as in, no ceiling), are bats capable of leaving one room this way and entering through another?<br /></div><br />we just talked about this actually! i think it would be really cool for mood, but Joar rightly points out that it might break the usefulness of migration as a &quot;guide&quot;. So we&#039;ll see? Maybe there is a clever way to do both. But I think we&#039;ll aim to get the build fun and functional first. (it is getting there though!)</div><div class="messagelink">&nbsp;&nbsp;&nbsp;<a href="/Rain-World-Devlog/Pages/043#859">[Message link]</a></div></div><div class="sidebar"></div></div><br></body>